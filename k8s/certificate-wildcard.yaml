# Wildcard SSL Certificate for cloudtolocalllm.online
# This certificate covers both the root domain and all subdomains (*.cloudtolocalllm.online)
# 
# Uses cert-manager with Azure DNS-01 challenge to automatically provision and renew
# Since we have full control of Azure DNS, we can get wildcard certificates easily
#
# STAGING MODE: Currently using staging issuer to test configuration
# To switch to production: Change issuerRef.name from "azure-dns-staging" to "azure-dns-prod"

apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: cloudtolocalllm-wildcard
  namespace: cloudtolocalllm
spec:
  # Request both root domain and wildcard
  dnsNames:
    - cloudtolocalllm.online
    - "*.cloudtolocalllm.online"
  
  # Certificate will be stored in this secret
  secretName: cloudtolocalllm-wildcard-tls
  
  # STAGING: Use staging issuer first to test (no rate limits)
  # PRODUCTION: Change to "azure-dns-prod" after testing
  issuerRef:
    name: azure-dns-staging
    kind: ClusterIssuer
  
  # Certificate will be automatically renewed 30 days before expiry
  renewBefore: 720h # 30 days

