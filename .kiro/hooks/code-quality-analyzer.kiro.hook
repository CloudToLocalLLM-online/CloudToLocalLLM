{
  "enabled": true,
  "name": "Code Quality Analyzer",
  "description": "Analyzes modified source code files for potential improvements including code smells, design patterns, and best practices. Generates suggestions for improving code quality while maintaining existing functionality, focusing on readability, maintainability, and performance optimizations.",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "lib/**/*.dart",
      "services/**/*.js",
      "web/**/*.js",
      "test/**/*.dart",
      "test/**/*.js"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Analyze the modified source code file for code quality improvements. Identify:\n\n1. **Code Smells**: Duplicated code, long methods, complex conditionals, magic numbers, unused variables\n2. **Design Patterns**: Opportunities to apply SOLID principles, design patterns, or architectural improvements\n3. **Best Practices**: Naming conventions, error handling, documentation, type safety, null safety\n4. **Performance**: Inefficient algorithms, unnecessary computations, memory leaks, optimization opportunities\n5. **Readability & Maintainability**: Simplification opportunities, clearer abstractions, better organization\n\nFor each issue found, provide:\n- **Issue**: Clear description of the problem\n- **Location**: Specific line numbers or code sections\n- **Severity**: Critical, High, Medium, or Low\n- **Suggestion**: Concrete improvement with code example if applicable\n- **Impact**: How this improves code quality (readability, performance, maintainability, etc.)\n\nFocus on actionable suggestions that maintain existing functionality while improving code quality."
  }
}