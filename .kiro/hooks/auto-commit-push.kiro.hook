{
  "enabled": true,
  "name": "Auto Commit & Push",
  "description": "Automatically commits and pushes changes when any file is detected as modified. Analyzes the changes to generate appropriate commit messages and verifies new files before committing.",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "*"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "A file has been modified. Please:\n\n1. First, sync with remote repository (git pull) to ensure we have the latest changes\n2. Check the git status to see what files have changed\n3. Review the changes using git diff to understand what was modified\n4. If there are new untracked files, analyze them to determine if they should be committed\n5. Generate an appropriate commit message based on the changes (follow conventional commit format if possible)\n6. Add the files to git staging\n7. Commit with the generated message\n8. Push the changes to the remote repository\n\nPlease be thorough in analyzing the changes and create a meaningful commit message that describes what was actually changed."
  }
}