# CloudToLocalLLM - Google Cloud Run Environment Configuration Template
# Copy this file to .env.cloudrun and customize the values for your deployment
#
# IMPORTANT: Never commit .env.cloudrun to version control as it contains sensitive information

# =============================================================================
# Google Cloud Configuration
# =============================================================================

# Your Google Cloud Project ID
GOOGLE_CLOUD_PROJECT=your-project-id

# Google Cloud region for deployment (e.g., us-central1, us-west1, europe-west1)
GOOGLE_CLOUD_REGION=us-central1

# Artifact Registry repository URL (auto-generated by setup script)
ARTIFACT_REGISTRY_REPO=us-central1-docker.pkg.dev/your-project-id/cloudtolocalllm

# Service Account Email (auto-generated by setup script)
SERVICE_ACCOUNT_EMAIL=cloudtolocalllm-runner@your-project-id.iam.gserviceaccount.com

# =============================================================================
# Cloud Run Service Configuration
# =============================================================================

# Cloud Run service names
WEB_SERVICE_NAME=cloudtolocalllm-web
API_SERVICE_NAME=cloudtolocalllm-api
STREAMING_SERVICE_NAME=cloudtolocalllm-streaming

# Custom domain configuration (optional)
# CUSTOM_DOMAIN=your-domain.com
# SSL_CERTIFICATE_NAME=your-ssl-cert

# =============================================================================
# Application Configuration
# =============================================================================

# Node.js environment
NODE_ENV=production

# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# Application version (auto-updated during deployment)
APP_VERSION=1.0.0

# =============================================================================
# Authentication Configuration (Auth0)
# =============================================================================

# Auth0 Domain (e.g., your-tenant.auth0.com)
AUTH0_DOMAIN=your-auth0-domain.auth0.com

# Auth0 Application Client ID
AUTH0_CLIENT_ID=your-auth0-client-id

# Auth0 Application Client Secret
AUTH0_CLIENT_SECRET=your-auth0-client-secret

# Auth0 API Audience (if using Auth0 APIs)
AUTH0_AUDIENCE=your-auth0-api-audience

# JWT Secret for token signing (generate a secure random string)
JWT_SECRET=your-jwt-secret-key

# =============================================================================
# Database Configuration
# =============================================================================

# Database type (sqlite, postgresql, mysql)
DB_TYPE=sqlite

# For Cloud SQL (PostgreSQL/MySQL)
# DB_HOST=your-cloud-sql-instance-connection-name
# DB_PORT=5432
# DB_NAME=cloudtolocalllm
# DB_USER=your-db-user
# DB_PASSWORD=your-db-password
# DB_SSL=true

# For SQLite (default)
DB_PATH=/app/data/app.db

# =============================================================================
# External Services Configuration
# =============================================================================

# Ollama service configuration
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_TIMEOUT=30000

# LangChain configuration
LANGCHAIN_TRACING_V2=false
LANGCHAIN_API_KEY=your-langchain-api-key

# =============================================================================
# Security Configuration
# =============================================================================

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session configuration
SESSION_SECRET=your-session-secret-key
SESSION_TIMEOUT=3600000

# =============================================================================
# Performance Configuration
# =============================================================================

# Cloud Run specific settings
CLOUD_RUN_CPU=1
CLOUD_RUN_MEMORY=1Gi
CLOUD_RUN_MIN_INSTANCES=0
CLOUD_RUN_MAX_INSTANCES=10
CLOUD_RUN_CONCURRENCY=80
CLOUD_RUN_TIMEOUT=300

# Node.js memory settings
NODE_OPTIONS=--max-old-space-size=512

# =============================================================================
# Monitoring and Observability
# =============================================================================

# Google Cloud Monitoring
ENABLE_CLOUD_MONITORING=true

# Sentry error tracking (optional)
# SENTRY_DSN=your-sentry-dsn
# SENTRY_ENVIRONMENT=production

# Application Insights (optional)
# APPINSIGHTS_INSTRUMENTATIONKEY=your-app-insights-key

# =============================================================================
# Feature Flags
# =============================================================================

# Enable/disable specific features
ENABLE_STREAMING_PROXY=true
ENABLE_LANGCHAIN_INTEGRATION=true
ENABLE_ADMIN_PANEL=true
ENABLE_USER_REGISTRATION=true

# =============================================================================
# Development and Testing
# =============================================================================

# Debug mode (only for development)
DEBUG=false

# Test mode settings
TEST_MODE=false
TEST_USER_EMAIL=test@example.com

# =============================================================================
# Backup and Storage
# =============================================================================

# Google Cloud Storage bucket for backups (optional)
# GCS_BACKUP_BUCKET=your-backup-bucket
# BACKUP_SCHEDULE=0 2 * * *

# File upload settings
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=.txt,.md,.json,.csv

# =============================================================================
# Networking Configuration
# =============================================================================

# Internal service URLs (auto-configured by Cloud Run)
# WEB_SERVICE_URL=https://cloudtolocalllm-web-xxx-uc.a.run.app
# API_SERVICE_URL=https://cloudtolocalllm-api-xxx-uc.a.run.app
# STREAMING_SERVICE_URL=https://cloudtolocalllm-streaming-xxx-uc.a.run.app

# Load balancer configuration (if using)
# LOAD_BALANCER_IP=your-load-balancer-ip
# HEALTH_CHECK_PATH=/health
